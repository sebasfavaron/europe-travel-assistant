import{b as se,c as he,a as N,f as O}from"../chunks/CJ-4FPFb.js";import{i as _e}from"../chunks/DURHG3V8.js";import{v as j,B as ve,at as pe,x as T,G as H,M as V,C as ee,g as E,D as be,H as Ee,F as ie,I as $,y as F,Z as te,ar as ye,a9 as oe,m as I,au as S,w as ae,A as Te,av as Ce,aw as Me,ap as ne,ax as Ae,ay as Re,az as q,Y as le,aA as Pe,n as me,q as ge,aB as J,L as we,aC as Se,aD as ke,ao as De,o as Be,al as U,t as K,P as Fe,aE as Ne,as as Le,am as ze,aF as Ie,aG as Ve,aH as He,b as Oe,K as Ge,aI as xe,p as qe,V as Qe,j as $e,k as L,s as z,J as je,aJ as Ke,l as B,aK as R,aL as Ue,aM as Ye}from"../chunks/B_G4vn1c.js";import{e as W,s as Je}from"../chunks/BhtGbhlF.js";import{i as ce,b as We}from"../chunks/RkS1BJ82.js";function Xe(e,a){return a}function Ze(e,a,t){for(var i=[],d=a.length,r,o=a.length,u=0;u<d;u++){let p=a[u];ge(p,()=>{if(r){if(r.pending.delete(p),r.done.add(p),r.pending.size===0){var m=e.outrogroups;re(ne(r.done)),m.delete(r),m.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var s=i.length===0&&t!==null;if(s){var v=t,c=v.parentNode;De(c),c.append(v),e.items.clear()}re(a,!s)}else r={pending:new Set(a),done:new Set},(e.outrogroups??=new Set).add(r)}function re(e,a=!0){for(var t=0;t<e.length;t++)Be(e[t],a)}var ue;function de(e,a,t,i,d,r=null){var o=e,u=new Map,s=(a&pe)!==0;if(s){var v=e;o=T?H(V(v)):v.appendChild(j())}T&&ee();var c=null,p=Ce(()=>{var f=t();return Me(f)?f:f==null?[]:ne(f)}),m,h=!0;function A(){n.fallback=c,ea(n,m,o,a,i),c!==null&&(m.length===0?(c.f&S)===0?me(c):(c.f^=S,Q(c,null,o)):ge(c,()=>{c=null}))}var k=ve(()=>{m=E(p);var f=m.length;let C=!1;if(T){var P=be(o)===Ee;P!==(f===0)&&(o=ie(),H(o),$(!1),C=!0)}for(var l=new Set,_=I,b=Te(),g=0;g<f;g+=1){T&&F.nodeType===te&&F.data===ye&&(o=F,C=!0,$(!1));var M=m[g],w=i(M,g),y=h?null:u.get(w);y?(y.v&&oe(y.v,M),y.i&&oe(y.i,g),b&&_.skipped_effects.delete(y.e)):(y=aa(u,h?o:ue??=j(),M,w,g,d,a,t),h||(y.e.f|=S),u.set(w,y)),l.add(w)}if(f===0&&r&&!c&&(h?c=ae(()=>r(o)):(c=ae(()=>r(ue??=j())),c.f|=S)),T&&f>0&&H(ie()),!h)if(b){for(const[G,Y]of u)l.has(G)||_.skipped_effects.add(Y.e);_.oncommit(A),_.ondiscard(()=>{})}else A();C&&$(!0),E(p)}),n={effect:k,items:u,outrogroups:null,fallback:c};h=!1,T&&(o=F)}function x(e){for(;e!==null&&(e.f&Se)===0;)e=e.next;return e}function ea(e,a,t,i,d){var r=(i&ke)!==0,o=a.length,u=e.items,s=x(e.effect.first),v,c=null,p,m=[],h=[],A,k,n,f;if(r)for(f=0;f<o;f+=1)A=a[f],k=d(A,f),n=u.get(k).e,(n.f&S)===0&&(n.nodes?.a?.measure(),(p??=new Set).add(n));for(f=0;f<o;f+=1){if(A=a[f],k=d(A,f),n=u.get(k).e,e.outrogroups!==null)for(const y of e.outrogroups)y.pending.delete(n),y.done.delete(n);if((n.f&S)!==0)if(n.f^=S,n===s)Q(n,null,t);else{var C=c?c.next:s;n===e.effect.last&&(e.effect.last=n.prev),n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),D(e,c,n),D(e,n,C),Q(n,C,t),c=n,m=[],h=[],s=x(c.next);continue}if((n.f&J)!==0&&(me(n),r&&(n.nodes?.a?.unfix(),(p??=new Set).delete(n))),n!==s){if(v!==void 0&&v.has(n)){if(m.length<h.length){var P=h[0],l;c=P.prev;var _=m[0],b=m[m.length-1];for(l=0;l<m.length;l+=1)Q(m[l],P,t);for(l=0;l<h.length;l+=1)v.delete(h[l]);D(e,_.prev,b.next),D(e,c,_),D(e,b,P),s=P,c=b,f-=1,m=[],h=[]}else v.delete(n),Q(n,s,t),D(e,n.prev,n.next),D(e,n,c===null?e.effect.first:c.next),D(e,c,n),c=n;continue}for(m=[],h=[];s!==null&&s!==n;)(v??=new Set).add(s),h.push(s),s=x(s.next);if(s===null)continue}(n.f&S)===0&&m.push(n),c=n,s=x(n.next)}if(e.outrogroups!==null){for(const y of e.outrogroups)y.pending.size===0&&(re(ne(y.done)),e.outrogroups?.delete(y));e.outrogroups.size===0&&(e.outrogroups=null)}if(s!==null||v!==void 0){var g=[];if(v!==void 0)for(n of v)(n.f&J)===0&&g.push(n);for(;s!==null;)(s.f&J)===0&&s!==e.fallback&&g.push(s),s=x(s.next);var M=g.length;if(M>0){var w=(i&pe)!==0&&o===0?t:null;if(r){for(f=0;f<M;f+=1)g[f].nodes?.a?.measure();for(f=0;f<M;f+=1)g[f].nodes?.a?.fix()}Ze(e,g,w)}}r&&we(()=>{if(p!==void 0)for(n of p)n.nodes?.a?.apply()})}function aa(e,a,t,i,d,r,o,u){var s=(o&Ae)!==0?(o&Re)===0?q(t,!1,!1):le(t):null,v=(o&Pe)!==0?le(d):null;return{v:s,i:v,e:ae(()=>(r(a,s??t,v??d,u),()=>{e.delete(i)}))}}function Q(e,a,t){if(e.nodes)for(var i=e.nodes.start,d=e.nodes.end,r=a&&(a.f&S)===0?a.nodes.start:t;i!==null;){var o=U(i);if(r.before(i),i===d)return;i=o}}function D(e,a,t){a===null?e.effect.first=t:a.next=t,t===null?e.effect.last=a:t.prev=a}function ra(e,a,t=!1,i=!1,d=!1){var r=e,o="";K(()=>{var u=Fe;if(o===(o=a()??"")){T&&ee();return}if(u.nodes!==null&&(Ne(u.nodes.start,u.nodes.end),u.nodes=null),o!==""){if(T){F.data;for(var s=ee(),v=s;s!==null&&(s.nodeType!==te||s.data!=="");)v=s,s=U(s);if(s===null)throw Le(),ze;se(F,v),r=H(s);return}var c=o+"";t?c=`<svg>${c}</svg>`:i&&(c=`<math>${c}</math>`);var p=he(c);if((t||i)&&(p=V(p)),se(V(p),p.lastChild),t||i)for(;V(p);)r.before(V(p));else r.before(p)}})}function ta(e,a){let t=null,i=T;var d;if(T){t=F;for(var r=V(document.head);r!==null&&(r.nodeType!==te||r.data!==e);)r=U(r);if(r===null)$(!1);else{var o=U(r);r.remove(),H(o)}}T||(d=document.head.appendChild(j()));try{ve(()=>a(d),Ie)}finally{i&&($(!0),H(t))}}function na(e,a,t){var i=e==null?"":""+e;return i===""?null:i}function sa(e,a,t,i,d,r){var o=e.__className;if(T||o!==t||o===void 0){var u=na(t);(!T||u!==e.getAttribute("class"))&&(u==null?e.removeAttribute("class"):e.className=u),e.__className=t}return r}function ia(e,a,t=a){var i=new WeakSet;Ve(e,"input",async d=>{var r=d?e.defaultValue:e.value;if(r=X(e)?Z(r):r,t(r),I!==null&&i.add(I),await He(),r!==(r=a())){var o=e.selectionStart,u=e.selectionEnd,s=e.value.length;if(e.value=r??"",u!==null){var v=e.value.length;o===u&&u===s&&v>s?(e.selectionStart=v,e.selectionEnd=v):(e.selectionStart=o,e.selectionEnd=Math.min(u,v))}}}),(T&&e.defaultValue!==e.value||Oe(a)==null&&e.value)&&(t(X(e)?Z(e.value):e.value),I!==null&&i.add(I)),Ge(()=>{var d=a();if(e===document.activeElement){var r=xe??I;if(i.has(r))return}X(e)&&d===Z(e.value)||e.type==="date"&&!d&&!e.value||d!==e.value&&(e.value=d??"")})}function X(e){var a=e.type;return a==="number"||a==="range"}function Z(e){return e===""?null:+e}const oa={madrid:{attractions:["Museo del Prado","Palacio Real","Parque del Retiro","Plaza Mayor","Puerta del Sol"],restaurants:["Sobrino de BotÃ­n","Casa Lucio","Mercado de San Miguel","La Latina"],transport:"Metro de Madrid, autobuses, taxis. Tarjeta Multi recomendada.",tips:"Mejor Ã©poca: primavera y otoÃ±o. Siesta de 14-16h. Cena tarde (22h+)."},barcelona:{attractions:["Sagrada Familia","Parque GÃ¼ell","Las Ramblas","Barrio GÃ³tico","Casa BatllÃ³"],restaurants:["Cal Pep","Quimet & Quimet","Mercado de la BoquerÃ­a","Els Quatre Gats"],transport:"Metro TMB, autobuses, Bicing (bicicletas). Hola Barcelona Card.",tips:"Playa urbana disponible. CatalÃ¡n y espaÃ±ol. Pickpockets en Las Ramblas."},roma:{attractions:["Coliseo","Foro Romano","Vaticano","Fontana di Trevi","PanteÃ³n"],restaurants:["Da Enzo al 29","Checchino dal 1887","Mercato Centrale","Trastevere"],transport:"Metro ATAC, autobuses, tranvÃ­as. Roma Pass recomendada.",tips:"Siesta 13-15h. Dress code en Vaticano. Agua gratis en fuentes pÃºblicas."},amsterdam:{attractions:["Rijksmuseum","Casa de Ana Frank","Canales","Vondelpark","Red Light District"],restaurants:["CafÃ© de Reiger","Restaurant Greetje","Foodhallen","Winkel 43"],transport:"Bicicletas (principal), tranvÃ­as GVB, metro. OV-chipkaart.",tips:"Bicicleta es obligatoria. Coffeeshops legales. Propinas no obligatorias."},paris:{attractions:["Torre Eiffel","Louvre","Notre-Dame","SacrÃ©-CÅ“ur","Champs-Ã‰lysÃ©es"],restaurants:["L'As du Fallafel","Du Pain et des IdÃ©es","MarchÃ© Saint-Germain","Le Comptoir du Relais"],transport:"Metro RATP, RER, autobuses. Navigo Easy o Passe Navigo.",tips:"Museos gratis primer domingo del mes. Propina incluida. Bonjour obligatorio."},venecia:{attractions:["Plaza San Marcos","Puente de Rialto","Palacio Ducal","Gondolas","Murano y Burano"],restaurants:["Osteria alle Testiere","Cantina Do Spade","Mercato di Rialto","Bacari tÃ­picos"],transport:"Vaporetto (barco-bus), a pie. ACTV travel card.",tips:"Acqua alta en invierno. Reservar restaurantes. Evitar trampas turÃ­sticas."},florencia:{attractions:["Duomo","Uffizi","Ponte Vecchio","Palazzo Pitti","Piazzale Michelangelo"],restaurants:["Trattoria Mario","All'Antico Vinaio","Mercato Centrale","Santo Spirito"],transport:"A pie (centro histÃ³rico), autobuses ATAF. Firenzecard.",tips:"Reservar Uffizi con anticipaciÃ³n. Aperitivo 18-20h. Gelato artesanal."}},la={attractions:[`Para **{city}** te recomiendo visitar:

{attractions}

{tips}`,`En **{city}** no te puedes perder:

{attractions}

ğŸ’¡ {tips}`],restaurants:[`Para comer bien en **{city}**:

{restaurants}

ğŸ½ï¸ {tips}`,`Restaurantes recomendados en **{city}**:

{restaurants}

{tips}`],transport:[`Para moverte en **{city}**:

{transport}

{tips}`,`Transporte en **{city}**:

{transport}

ğŸ’¡ {tips}`],general:[`En **{city}** puedes:

**ğŸ›ï¸ Atracciones:** {attractions}

**ğŸ½ï¸ Restaurantes:** {restaurants}

**ğŸš‡ Transporte:** {transport}

ğŸ’¡ **Tips:** {tips}`]};function ca(e){const a={madrid:["madrid","prado","retiro","sol"],barcelona:["barcelona","sagrada","gÃ¼ell","ramblas","gaudÃ­"],roma:["roma","coliseo","vaticano","trevi","romano"],amsterdam:["amsterdam","rijks","canales","ana frank","vondelpark"],paris:["paris","parÃ­s","eiffel","louvre","notre","champs"],venecia:["venecia","venice","san marcos","rialto","gondola"],florencia:["florencia","florence","uffizi","duomo","ponte vecchio"]},t=e.toLowerCase();for(const[i,d]of Object.entries(a))if(d.some(r=>t.includes(r)))return i;return null}function ua(e){const a=e.toLowerCase();return a.includes("comer")||a.includes("restaurante")||a.includes("comida")?"restaurants":a.includes("transporte")||a.includes("mover")||a.includes("metro")||a.includes("aeropuerto")?"transport":a.includes("ver")||a.includes("visitar")||a.includes("hacer")||a.includes("museo")?"attractions":"general"}function fe(e){return e.map(a=>`â€¢ ${a}`).join(`
`)}function da(e){return e[Math.floor(Math.random()*e.length)]}async function fa(e){await new Promise(o=>setTimeout(o,300));const a=ca(e),t=ua(e);if(!a)return"ğŸ¤” No pude identificar la ciudad especÃ­fica. Â¿PodrÃ­as mencionar Madrid, Barcelona, Roma, Amsterdam, ParÃ­s, Venecia o Florencia?";const i=oa[a],d=la[t];return da(d).replace(/{city}/g,a.charAt(0).toUpperCase()+a.slice(1)).replace(/{attractions}/g,fe(i.attractions.slice(0,5))).replace(/{restaurants}/g,fe(i.restaurants)).replace(/{transport}/g,i.transport).replace(/{tips}/g,i.tips)}var va=O('<meta name="description" content="Tu asistente turÃ­stico offline para Europa"/>'),pa=O('<button class="suggestion"> </button>'),ma=O('<div class="avatar">ğŸ‡ªğŸ‡º</div>'),ga=O('<div><!> <div class="message-content"><!></div></div>'),ha=O('<div class="message assistant"><div class="avatar">ğŸ‡ªğŸ‡º</div> <div class="typing-indicator"><div class="typing-dots"><div class="dot"></div> <div class="dot"></div> <div class="dot"></div></div> <span style="font-size: 14px; color: #666;">Escribiendo...</span></div></div>'),_a=O('<div class="container"><div class="header"><h1>ğŸ‡ªğŸ‡º Europe Travel Assistant</h1> <div class="subtitle">Tu guÃ­a personal para Madrid, Barcelona, Roma, Amsterdam, ParÃ­s, Venecia, Florencia</div></div> <div class="suggestions"></div> <div class="chat-container"><!> <!></div> <div class="input-container"><textarea class="input-field" placeholder="Preguntame sobre Europa..." rows="1"></textarea> <button class="send-button">â–¶ï¸</button></div></div>');function Ma(e,a){qe(a,!1);let t=q([{id:1,type:"assistant",content:`Â¡Hola! Soy tu asistente personal para Europa. Preguntame sobre quÃ© hacer, dÃ³nde comer, cÃ³mo moverte o cualquier cosa sobre Madrid, Barcelona, Roma, Amsterdam, ParÃ­s, Venecia o Florencia.

**Todo funciona offline** âœˆï¸ - perfecto para tus viajes.`}]),i=q(""),d=q(!1),r=q();const o=["Â¿QuÃ© hacer esta tarde en Roma?","Restaurantes baratos en ParÃ­s","CÃ³mo ir del aeropuerto al centro en Amsterdam","Mejores museos en Madrid"];function u(){E(r)&&setTimeout(()=>{Ye(r,E(r).scrollTop=E(r).scrollHeight)},100)}async function s(l=E(i).trim()){if(!l)return;const _={id:Date.now(),type:"user",content:l};R(t,[...E(t),_]),R(i,""),u(),R(d,!0),u();try{await new Promise(M=>setTimeout(M,500));const b=await fa(l),g={id:Date.now()+1,type:"assistant",content:b};R(d,!1),R(t,[...E(t),g]),u()}catch{R(d,!1);const g={id:Date.now()+1,type:"assistant",content:"Lo siento, hubo un error procesando tu pregunta. Â¿PodÃ©s intentar de nuevo?"};R(t,[...E(t),g]),u()}}function v(l){l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),s())}function c(l){R(i,l),s()}Qe(()=>{u()}),_e();var p=_a();ta("1uha8ag",l=>{var _=va();je(()=>{Ke.title="Europe Travel Assistant"}),N(l,_)});var m=z(L(p),2);de(m,5,()=>o,Xe,(l,_)=>{var b=pa(),g=L(b,!0);B(b),K(()=>Je(g,E(_))),W("click",b,()=>c(E(_))),N(l,b)}),B(m);var h=z(m,2),A=L(h);de(A,1,()=>E(t),l=>l.id,(l,_)=>{var b=ga(),g=L(b);{var M=G=>{var Y=ma();N(G,Y)};ce(g,G=>{E(_).type==="assistant"&&G(M)})}var w=z(g,2),y=L(w);ra(y,()=>E(_).content.replace(/\n/g,"<br>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")),B(w),B(b),K(()=>sa(b,1,`message ${E(_).type??""}`)),N(l,b)});var k=z(A,2);{var n=l=>{var _=ha();N(l,_)};ce(k,l=>{E(d)&&l(n)})}B(h),We(h,l=>R(r,l),()=>E(r));var f=z(h,2),C=L(f);Ue(C);var P=z(C,2);B(f),B(p),K(l=>P.disabled=l,[()=>!E(i).trim()]),ia(C,()=>E(i),l=>R(i,l)),W("keydown",C,v),W("click",P,()=>s()),N(e,p),$e()}export{Ma as component};
